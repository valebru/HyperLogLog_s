# Synthetic Stream Generator (SSG) 
We use the Synthetic Stream Generator (SSG) to generate a sequences of synthetic packet headers. This representation is compliant with the [Classbench](https://www.arl.wustl.edu/classbench/) format and allows to easily shape the final traffic with the desired stream distribution in terms of \{flows X distinct elements\}. For our experimental campaign, we focus on detecting the top-$k$ flows (defined by the \emph{destination\_ip}) with the largest cardinality (defined by the 5-tuple). We generate two different kind of synthetic datasets. The former is generated by shaping an uniform distribution: all the flows (10-100) have the same number of distinct elements (32k-64k); this kind of dataset has been used as a baseline to test the single component of the algorithm. The latter is generated by shaping a zipf distribution (with $\alpha=\{1.1, 1.4, 1.8\}$): these synthetic datasets likely match real pattern in realistic traces, but they are more stressful since it contains more flows and a vaster range of distinct elements with the property of not presenting duplicated elements. In both the workloads, we replicate and shuffle each dataset multiple times to test the algorithm robustness to the stream order.

## Setup
The SSG will create a directory "traceset-zipf" in which the generated traceset are stored in multiple representation. In particular, you can find the text representation (ClassBench compliant), the pcap file (`pcap_split/`), the reference file (`reference-py/`) in which it is stored the exact counting contained of the flows in the traceset.

To modify the generation parameter, it is needed to modify just the file `zipftrace_generation.bash`:


You should modify this line to choose the preferable zipf_alpha value 
```bash
for zipf_a in "1.1" "1.4" "1.8" "2.1" "2.5" "3.0"
```


You should modify this line to choose the preferable trace size value 

```bash
for size in 1000000 2500000 5000000 6000000 7000000
```

To start the generation: `bash zipftrace_generation.bash`

